<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <meta name="referrer" content="no-referrer">
        <title>äºŒåˆ†æŸ¥æ‰¾æ³•ä¹‹ç»†èŠ‚ - Weiyee&#39;s Blog</title><meta name="Description" content="è®°å½•ä¸ªäººå­¦ä¹ çš„åšå®¢"><meta property="og:title" content="äºŒåˆ†æŸ¥æ‰¾æ³•ä¹‹ç»†èŠ‚" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.com/binary_search/" /><meta property="og:image" content="https://example.com/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-19T08:46:08+08:00" />
<meta property="article:modified_time" content="2022-04-19T08:46:08+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://example.com/logo.png"/>

<meta name="twitter:title" content="äºŒåˆ†æŸ¥æ‰¾æ³•ä¹‹ç»†èŠ‚"/>
<meta name="twitter:description" content=""/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://example.com/binary_search/" /><link rel="prev" href="https://example.com/learing_resources/" /><link rel="next" href="https://example.com/rvalue_ref/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "äºŒåˆ†æŸ¥æ‰¾æ³•ä¹‹ç»†èŠ‚",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/example.com\/binary_search\/"
        },"image": ["https:\/\/example.com\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "Binary Search","wordcount":  5966 ,
        "url": "https:\/\/example.com\/binary_search\/","datePublished": "2022-04-19T08:46:08+08:00","dateModified": "2022-04-19T08:46:08+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "https:\/\/example.com\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Weiyee"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Weiyee&#39;s Blog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Weiyee&#39;s Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> ğŸ“” æ‰€æœ‰æ–‡ç«  </a><a class="menu-item" href="/tags/"> ğŸ·ï¸ æ ‡ç­¾ </a><a class="menu-item" href="/categories/"> ğŸ—‚ï¸ åˆ†ç±» </a><a class="menu-item" href="/about/"> ğŸ‘¨â€ğŸ’» å…³äº </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Weiyee&#39;s Blog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Weiyee&#39;s Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        å–æ¶ˆ
                    </a>
                </div><a class="menu-item" href="/posts/" title="">ğŸ“” æ‰€æœ‰æ–‡ç« </a><a class="menu-item" href="/tags/" title="">ğŸ·ï¸ æ ‡ç­¾</a><a class="menu-item" href="/categories/" title="">ğŸ—‚ï¸ åˆ†ç±»</a><a class="menu-item" href="/about/" title="">ğŸ‘¨â€ğŸ’» å…³äº</a><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">ç›®å½•</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">äºŒåˆ†æŸ¥æ‰¾æ³•ä¹‹ç»†èŠ‚</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Weiyee</a></span>&nbsp;<span class="post-category">æ”¶å½•äº <a href="/categories/algorithm/"><i class="far fa-folder fa-fw"></i>Algorithm</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-04-19">2022-04-19</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 5966 å­—&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 12 åˆ†é’Ÿ&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>ç›®å½•</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#äºŒåˆ†æŸ¥æ‰¾é€šç”¨æ¡†æ¶">äºŒåˆ†æŸ¥æ‰¾é€šç”¨æ¡†æ¶</a></li>
    <li><a href="#ç¬¬ä¸€ç§æ¨¡æ¿">ç¬¬ä¸€ç§æ¨¡æ¿</a>
      <ul>
        <li><a href="#æœç´¢å•ä¸ªå€¼">æœç´¢å•ä¸ªå€¼</a></li>
        <li><a href="#æœç´¢å·¦ç«¯ç‚¹">æœç´¢å·¦ç«¯ç‚¹</a></li>
        <li><a href="#æœç´¢å³ç«¯ç‚¹">æœç´¢å³ç«¯ç‚¹</a></li>
      </ul>
    </li>
    <li><a href="#ç¬¬äºŒç§æ¨¡æ¿">ç¬¬äºŒç§æ¨¡æ¿</a>
      <ul>
        <li><a href="#æœç´¢å•ä¸ªå€¼-1">æœç´¢å•ä¸ªå€¼</a></li>
        <li><a href="#æœç´¢å·¦ç«¯ç‚¹-1">æœç´¢å·¦ç«¯ç‚¹</a></li>
        <li><a href="#æœç´¢å³ç«¯ç‚¹-1">æœç´¢å³ç«¯ç‚¹</a></li>
      </ul>
    </li>
    <li><a href="#ç¬¬ä¸‰ç§æ¨¡æ¿">ç¬¬ä¸‰ç§æ¨¡æ¿</a></li>
    <li><a href="#è‹¥å¹²æ¡ç»éªŒ">è‹¥å¹²æ¡ç»éªŒ</a></li>
    <li><a href="#å®ä¾‹ç ”ç©¶">å®ä¾‹ç ”ç©¶</a>
      <ul>
        <li><a href="#å•ä¸€å€¼æŸ¥æ‰¾æƒ…å†µ">å•ä¸€å€¼æŸ¥æ‰¾æƒ…å†µ</a>
          <ul>
            <li><a href="#æ¨¡æ¿ä¸€">æ¨¡æ¿ä¸€</a></li>
            <li><a href="#æ¨¡æ¿äºŒ">æ¨¡æ¿äºŒ</a>
              <ul>
                <li><a href="#å°ç»“">å°ç»“</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Donald Knuthï¼ˆé«˜å¾·çº³ï¼‰æ›¾ç»è¯´è¿‡äºŒåˆ†æ³•æ€è·¯å¾ˆç®€å•ï¼Œç»†èŠ‚æ˜¯é­”é¬¼ã€‚æœ¬æ–‡å°±æ¥æ¢è®¨ä¸‹äºŒåˆ†æ³•ä¸­çš„é‚£äº›â€œé­”é¬¼â€ç»†èŠ‚</p>
<p>Reference</p>
<p><a href="https://leetcode-cn.com/leetbook/read/binary-search/" target="_blank" rel="noopener noreffer">åŠ›æ‰£</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/441033451" target="_blank" rel="noopener noreffer">https://zhuanlan.zhihu.com/p/441033451</a></p>
<h2 id="äºŒåˆ†æŸ¥æ‰¾é€šç”¨æ¡†æ¶">äºŒåˆ†æŸ¥æ‰¾é€šç”¨æ¡†æ¶</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="kt">int</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="p">...;</span>

    <span class="k">while</span><span class="p">(...)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="p">...</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">left</span> <span class="o">=</span> <span class="p">...</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">right</span> <span class="o">=</span> <span class="p">...</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">...;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>åˆ†æäºŒåˆ†æŸ¥æ‰¾çš„ä¸€ä¸ªæŠ€å·§æ˜¯ï¼šä¸è¦å‡ºç° elseï¼Œè€Œæ˜¯æŠŠæ‰€æœ‰æƒ…å†µç”¨ else if å†™æ¸…æ¥šï¼Œè¿™æ ·å¯ä»¥æ¸…æ¥šåœ°å±•ç°æ‰€æœ‰ç»†èŠ‚ã€‚æœ¬æ–‡éƒ½ä¼šä½¿ç”¨ else ifï¼Œæ—¨åœ¨è®²æ¸…æ¥šï¼Œè¯»è€…ç†è§£åå¯è‡ªè¡Œç®€åŒ–ã€‚</p>
<p>å…¶ä¸­ &hellip; æ ‡è®°çš„éƒ¨åˆ†ï¼Œå°±æ˜¯å¯èƒ½å‡ºç°ç»†èŠ‚é—®é¢˜çš„åœ°æ–¹ï¼Œå½“ä½ è§åˆ°ä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾çš„ä»£ç æ—¶ï¼Œé¦–å…ˆæ³¨æ„è¿™å‡ ä¸ªåœ°æ–¹ã€‚åæ–‡ç”¨å®ä¾‹åˆ†æè¿™äº›åœ°æ–¹èƒ½æœ‰ä»€ä¹ˆæ ·çš„å˜åŒ–ã€‚</p>
<p>å¦å¤–å£°æ˜ä¸€ä¸‹ï¼Œè®¡ç®— mid æ—¶éœ€è¦é˜²æ­¢æº¢å‡ºï¼Œä»£ç ä¸­<code>left + (right - left) / 2</code>å°±å’Œ <code>(left + right) / 2 </code>çš„ç»“æœç›¸åŒï¼Œä½†æ˜¯æœ‰æ•ˆé˜²æ­¢äº† left å’Œ right å¤ªå¤§ç›´æ¥ç›¸åŠ å¯¼è‡´æº¢å‡ºã€‚</p>
<p>è¿™é‡Œæˆ‘æä¾›ä¸¤ä¸ªå°è¯€çªï¼Œç¬¬ä¸€æ˜¯å°è¯•ç†Ÿç»ƒä½¿ç”¨ä¸€ç§å†™æ³•ï¼Œæ¯”å¦‚å·¦é—­å³å¼€ï¼ˆæ»¡è¶³ C++ã€Python ç­‰è¯­è¨€çš„ä¹ æƒ¯ï¼‰æˆ–å·¦é—­å³é—­ï¼ˆä¾¿äºå¤„ç†è¾¹ç•Œæ¡ä»¶ï¼‰ï¼Œå°½é‡åªä¿æŒè¿™ä¸€ç§å†™æ³•ï¼›ç¬¬äºŒæ˜¯åœ¨åˆ·é¢˜æ—¶æ€è€ƒå¦‚æœæœ€ååŒºé—´åªå‰©ä¸‹ä¸€ä¸ªæ•°æˆ–è€…ä¸¤ä¸ªæ•°ï¼Œè‡ªå·±çš„å†™æ³•æ˜¯å¦ä¼šé™·å…¥æ­»å¾ªç¯ï¼Œå¦‚æœæŸç§å†™æ³•æ— æ³•è·³å‡ºæ­»å¾ªç¯ï¼Œåˆ™è€ƒè™‘å°è¯•å¦ä¸€ç§å†™æ³•ã€‚</p>
<img src="https://i0.hdslb.com/bfs/album/3fd3c02e25774c07bd65385dbb86a26dd7136ff4.png" title="" alt="" data-align="center">
<p>è¿™ 3 ä¸ªæ¨¡æ¿çš„ä¸åŒä¹‹å¤„åœ¨äºï¼š</p>
<p>å·¦ã€ä¸­ã€å³ç´¢å¼•çš„åˆ†é…ã€‚
å¾ªç¯æˆ–é€’å½’ç»ˆæ­¢æ¡ä»¶ã€‚
åå¤„ç†çš„å¿…è¦æ€§ã€‚
æ¨¡æ¿ #1 å’Œ #3 æ˜¯æœ€å¸¸ç”¨çš„ï¼Œå‡ ä¹æ‰€æœ‰äºŒåˆ†æŸ¥æ‰¾é—®é¢˜éƒ½å¯ä»¥ç”¨å…¶ä¸­ä¹‹ä¸€è½»æ¾å®ç°ã€‚æ¨¡æ¿ #2 æ›´ é«˜çº§ä¸€äº›ï¼Œç”¨äºè§£å†³æŸäº›ç±»å‹çš„é—®é¢˜ã€‚</p>
<p>è¿™ 3 ä¸ªæ¨¡æ¿ä¸­çš„æ¯ä¸€ä¸ªéƒ½æä¾›äº†ä¸€ä¸ªç‰¹å®šçš„ç”¨ä¾‹ï¼š</p>
<p><strong>æ¨¡æ¿ #1 (left &lt;= right)</strong></p>
<p>äºŒåˆ†æŸ¥æ‰¾çš„æœ€åŸºç¡€å’Œæœ€åŸºæœ¬çš„å½¢å¼ã€‚
æŸ¥æ‰¾æ¡ä»¶å¯ä»¥åœ¨ä¸ä¸å…ƒç´ çš„ä¸¤ä¾§è¿›è¡Œæ¯”è¾ƒçš„æƒ…å†µä¸‹ç¡®å®šï¼ˆæˆ–ä½¿ç”¨å®ƒå‘¨å›´çš„ç‰¹å®šå…ƒç´ ï¼‰ã€‚
ä¸éœ€è¦åå¤„ç†ï¼Œå› ä¸ºæ¯ä¸€æ­¥ä¸­ï¼Œä½ éƒ½åœ¨æ£€æŸ¥æ˜¯å¦æ‰¾åˆ°äº†å…ƒç´ ã€‚å¦‚æœåˆ°è¾¾æœ«å°¾ï¼Œåˆ™çŸ¥é“æœªæ‰¾åˆ°è¯¥å…ƒç´ ã€‚Â </p>
<p><strong>æ¨¡æ¿ #2 (left &lt; right)</strong></p>
<p>ä¸€ç§å®ç°äºŒåˆ†æŸ¥æ‰¾çš„é«˜çº§æ–¹æ³•ã€‚
æŸ¥æ‰¾æ¡ä»¶éœ€è¦è®¿é—®å…ƒç´ çš„ç›´æ¥å³é‚»å±…ã€‚
ä½¿ç”¨å…ƒç´ çš„å³é‚»å±…æ¥ç¡®å®šæ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œå¹¶å†³å®šæ˜¯å‘å·¦è¿˜æ˜¯å‘å³ã€‚
ä¿è¯æŸ¥æ‰¾ç©ºé—´åœ¨æ¯ä¸€æ­¥ä¸­è‡³å°‘æœ‰ 2 ä¸ªå…ƒç´ ã€‚
éœ€è¦è¿›è¡Œåå¤„ç†ã€‚ å½“ä½ å‰©ä¸‹ 1 ä¸ªå…ƒç´ æ—¶ï¼Œå¾ªç¯ / é€’å½’ç»“æŸã€‚ éœ€è¦è¯„ä¼°å‰©ä½™å…ƒç´ æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚</p>
<p><strong>æ¨¡æ¿ #3 (left + 1 &lt; right)</strong></p>
<p>å®ç°äºŒåˆ†æŸ¥æ‰¾çš„å¦ä¸€ç§æ–¹æ³•ã€‚
æœç´¢æ¡ä»¶éœ€è¦è®¿é—®å…ƒç´ çš„ç›´æ¥å·¦å³é‚»å±…ã€‚
ä½¿ç”¨å…ƒç´ çš„é‚»å±…æ¥ç¡®å®šå®ƒæ˜¯å‘å³è¿˜æ˜¯å‘å·¦ã€‚
ä¿è¯æŸ¥æ‰¾ç©ºé—´åœ¨æ¯ä¸ªæ­¥éª¤ä¸­è‡³å°‘æœ‰ 3 ä¸ªå…ƒç´ ã€‚
éœ€è¦è¿›è¡Œåå¤„ç†ã€‚Â å½“å‰©ä¸‹ 2 ä¸ªå…ƒç´ æ—¶ï¼Œå¾ªç¯ / é€’å½’ç»“æŸã€‚Â éœ€è¦è¯„ä¼°å…¶ä½™å…ƒç´ æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚</p>
<h2 id="ç¬¬ä¸€ç§æ¨¡æ¿">ç¬¬ä¸€ç§æ¨¡æ¿</h2>
<p><strong>æœ¬æ¨¡æ¿whileæ¡ä»¶é‡‡ç”¨ &lt;= ç¬¦å·ï¼Œç´¢å¼•åˆå§‹çš„æœç´¢åŒºé—´å³ç«¯ç‚¹åº”ä¸ºnums.length-1</strong></p>
<h3 id="æœç´¢å•ä¸ªå€¼">æœç´¢å•ä¸ªå€¼</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="kt">int</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">mid</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="æœç´¢å·¦ç«¯ç‚¹">æœç´¢å·¦ç«¯ç‚¹</h3>
<p>æœ€åéœ€è¦åšå¦‚ä¸‹è¶Šç•Œæ£€æŸ¥ï¼Œå·¦è¾¹å’Œå³è¾¹</p>
<ul>
<li>
<p><code>left</code>åŠ åˆ°<code>nums.length</code>ï¼Œæ­¤æ—¶<code>target</code>æ¯”æ‰€æœ‰å€¼éƒ½å¤§ï¼Œ<strong>ä¸ç¬¦åˆ</strong>æ¡ä»¶ï¼Œæ‰€ä»¥æ£€æŸ¥<code>left &gt;= nums.length </code> å¯ç›´æ¥è¿”å›-1</p>
</li>
<li>
<p><code>right</code>ä¼šå‡åˆ° -1ï¼Œåˆ†ä¸¤ç§æƒ…å†µ</p>
<ul>
<li>
<p>(1) <code>target</code>æ¯”æ‰€æœ‰å€¼éƒ½å°, <strong>ä¸ç¬¦åˆ</strong>æ¡ä»¶ï¼Œ æ­¤æ—¶<code>left = 0</code>, ä½† <code>nums[left] != target</code></p>
</li>
<li>
<p>(2) ç¬¬ä¸€ä¸ªå…ƒç´ æ­£å¥½ä¸º<code>target</code>ï¼Œ<strong>ç¬¦åˆæ¡ä»¶</strong>ï¼Œ<code>right</code>ä¹Ÿä¼šå‡åˆ°-1,ä½† <code>nums[left] == target </code></p>
</li>
</ul>
</li>
</ul>
<p>æ‰€ä»¥å¯ä»¥ç›´æ¥æ£€æŸ¥ç¬¬ä¸€ä¸ªå…ƒç´ å³<code>nums[left]</code>æ˜¯å¦ä¸ºç›®æ ‡å€¼æ¥åŒºåˆ†ä¸¤ç§æƒ…å†µã€‚</p>
<p>å½“æ‰¾åˆ°<code>target</code>æ—¶ï¼Œ<code>right = mid - 1</code> å³ç›®æ ‡ç´¢å¼• <code>mid = right + 1 = left</code> ï¼Œ æ‰€ä»¥è¿”å›<code>left</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="kt">int</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// ç¼©å°å³è¾¹æœç´¢åŒºé—´
</span><span class="c1"></span>            <span class="c1">// é”å®šå·¦ä¾§è¾¹ç•Œ
</span><span class="c1"></span>            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> 
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// åšæ£€æŸ¥
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">&gt;=</span> <span class="n">nums</span><span class="p">.</span><span class="n">length</span> <span class="o">||</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">!=</span> <span class="n">target</span><span class="p">)</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">left</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="æœç´¢å³ç«¯ç‚¹">æœç´¢å³ç«¯ç‚¹</h3>
<p>åšå¦‚ä¸‹è¶Šç•Œæ£€æŸ¥</p>
<ul>
<li>
<p><code>left</code>åŠ åˆ°<code>nums.length</code>ï¼Œåˆ†ä¸¤ç§æƒ…å†µ</p>
<ul>
<li>
<p>ï¼ˆ1ï¼‰<code>target</code>æ¯”æ‰€æœ‰å€¼éƒ½å¤§, <strong>ä¸ç¬¦åˆæ¡ä»¶</strong>ï¼Œæ­¤æ—¶<code>right = nums.length - 1</code>,ä½†<code>nums[right] != target</code></p>
</li>
<li>
<p>ï¼ˆ2ï¼‰æœ€åå…ƒç´ æ­£å¥½ä¸º<code>target</code>ï¼Œ<strong>ç¬¦åˆæ¡ä»¶</strong>ï¼Œ<code>left</code>ä¹Ÿä¼šåŠ åˆ°<code>nums.length</code>,ä½†<code>nums[right] == target</code></p>
</li>
</ul>
</li>
<li>
<p><code>right</code>ä¼šå‡åˆ°-1ï¼Œæ­¤æ—¶<code>target</code>æ¯”æ‰€æœ‰å€¼éƒ½å°ï¼Œ<strong>ä¸ç¬¦åˆæ¡ä»¶</strong>ï¼Œæ‰€ä»¥é¦–å…ˆæ£€æŸ¥å·¦è¾¹<code>right &lt; 0</code>å¯ç›´æ¥è¿”å›-1ã€‚</p>
</li>
</ul>
<p>æ‰€ä»¥ç›´æ¥æ£€æŸ¥æœ€åä¸€ä¸ªå…ƒç´ å³<code>nums[right]</code>æ˜¯å¦ä¸ºç›®æ ‡å€¼æ¥åŒºåˆ†ä¸Šè¿°ä¸¤ç§æƒ…å†µã€‚</p>
<p>å½“æ‰¾åˆ°<code>target</code>æ—¶ï¼Œ<code>left = mid + 1 </code>å³ç›®æ ‡ç´¢å¼• <code>mid = left - 1 = right</code>ï¼Œ è¿”å›<code>right</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="kt">int</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// ç¼©å°å·¦è¾¹æœç´¢åŒºé—´
</span><span class="c1"></span>            <span class="c1">// é”å®šå³ä¾§è¾¹ç•Œ
</span><span class="c1"></span>            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> 
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// åšæ£€æŸ¥
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">right</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">!=</span> <span class="n">target</span><span class="p">)</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">right</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="ç¬¬äºŒç§æ¨¡æ¿">ç¬¬äºŒç§æ¨¡æ¿</h2>
<p><strong>æœ¬æ¨¡æ¿whileæ¡ä»¶é‡‡ç”¨ &lt; ç¬¦å·ï¼Œç´¢å¼•åˆå§‹çš„æœç´¢åŒºé—´å³ç«¯ç‚¹åº”ä¸ºnums.length</strong></p>
<h3 id="æœç´¢å•ä¸ªå€¼-1">æœç´¢å•ä¸ªå€¼</h3>
<p>è¿”å›<code>left </code>æˆ–è€… <code>righ</code>, å› ä¸ºæ­¤æ—¶<code>left == right</code>,å…¶å«ä¹‰æ˜¯<code>nums</code>ç§å°äº<code>target</code>çš„å€¼æ•°é‡ï¼Œæ‰€ä»¥å‡½æ•°è¿”å›å€¼çš„å–å€¼åŒºé—´ä¸º<code>[0, num.length]</code>ï¼Œ æ‰€ä»¥æœ€åè¦åšæ£€æŸ¥</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="kt">int</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// æ³¨æ„
</span><span class="c1"></span>        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">mid</span><span class="p">;</span> 
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span> <span class="c1">// æ³¨æ„
</span><span class="c1"></span>        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// Post-processing:
</span><span class="c1"></span>    <span class="c1">// End Condition: left == right
</span><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="n">left</span> <span class="o">!=</span> <span class="n">nums</span><span class="p">.</span><span class="n">length</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="k">return</span> <span class="n">left</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="æœç´¢å·¦ç«¯ç‚¹-1">æœç´¢å·¦ç«¯ç‚¹</h3>
<p>ç›´æ¥è¿”å›<code>left </code>æ˜¯å› ä¸ºæ‰¾åˆ°ç›®æ ‡æ—¶ï¼Œæœ‰<code>right == mid</code>, åˆå› ä¸º<code>left == right</code>æ‰€ä»¥è¿”å›<code>left</code></p>
<p>è€ƒè™‘ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>
<p>å½“ <code>left </code>ä¸€ç›´å‘å³ç§»åŠ¨ï¼Œæœ€ç»ˆ<code>left == nums.length</code>(æ¯æ¬¡<code>left = mid + 1</code>), æ„å‘³ç€ <code>target</code>æ¯”æ‰€æœ‰æ•°éƒ½å¤§ã€‚<strong>ä¸ç¬¦åˆæ¡ä»¶</strong>,æ£€æŸ¥è¿™ç§æƒ…å†µè¿”å›-1å³å¯ã€‚</p>
</li>
<li>
<p>å½“<code>right</code>ä¸€ç›´å‘å·¦ç§»åŠ¨ï¼Œæœ€ç»ˆ<code>right == 0</code>, (æ¯æ¬¡<code>right= mid</code>), æ„å‘³ç€</p>
<ul>
<li>
<p><code>target </code>æ¯”æ‰€æœ‰æ•°éƒ½å°ï¼Œ<strong>ä¸ç¬¦åˆæ¡ä»¶</strong>ï¼Œ <code>nums[left] != target</code></p>
</li>
<li>
<p>æœ€ç»ˆå‰©ä½™çš„<code>nums[right]</code>æœªæ£€æŸ¥ï¼Œä½†<code>nums[left] == target</code>, <strong>ç¬¦åˆæ¡ä»¶</strong></p>
</li>
</ul>
<p>ä¸ºäº†åŒºåˆ†ä¸Šè¿°ä¸¤ç§æƒ…å†µï¼Œç›´æ¥æ£€æŸ¥<code>nums[left] == target</code> å³å¯</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="kt">int</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span> 
        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span> 
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span> 
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// é¢å¤–æ£€æŸ¥targetæ¯”æ‰€æœ‰æ•°éƒ½å¤§
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">==</span> <span class="n">nums</span><span class="p">.</span><span class="n">length</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="c1">// æ£€æŸ¥åŒºé—´æ®‹ç•™å…ƒç´ 
</span><span class="c1"></span>    <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span> <span class="o">?</span> <span class="nl">left</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> 

    <span class="c1">// æˆ–è€…å¯ä»¥è¿™æ ·å†™
</span><span class="c1"></span>    <span class="c1">// if (left != nums.length &amp;&amp; nums[left] == target) return left;
</span><span class="c1"></span>    <span class="c1">// return -1;
</span><span class="c1"></span>
    <span class="c1">// æˆ–è€…ä»¥ä¸‹ç»Ÿä¸€å½¢å¼
</span><span class="c1"></span>    <span class="k">return</span> <span class="p">(</span><span class="n">left</span> <span class="o">!=</span> <span class="n">nums</span><span class="p">.</span><span class="n">length</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="nl">left</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="æœç´¢å³ç«¯ç‚¹-1">æœç´¢å³ç«¯ç‚¹</h3>
<p>æ³¨æ„è¿™é‡Œæ˜¯è¿”å›<code>left - 1</code>, å› ä¸ºç›®æ ‡æ‰¾åˆ°æ—¶æœ‰ <code>left = mid + 1</code>; æ‰€ä»¥<code>mid = left - 1</code>;</p>
<p>è€ƒè™‘ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p>
<p>å› ä¸ºæˆ‘ä»¬å¯¹ <code>left </code>çš„æ›´æ–°å¿…é¡»æ˜¯ <code>left = mid + 1</code>ï¼Œå°±æ˜¯è¯´ <code>while </code>å¾ªç¯ç»“æŸæ—¶ï¼Œ<code>nums[left] </code>ä¸€å®šä¸ç­‰äº <code>target </code>äº†ï¼Œè€Œ <code>nums[left-1] </code>å¯èƒ½æ˜¯ <code>target</code></p>
<ul>
<li>
<p>å½“ <code>left</code> ä¸€ç›´å‘å³ç§»åŠ¨ï¼Œæœ€ç»ˆ<code>left == nums.length</code>(æ¯æ¬¡<code>left = mid + 1</code>), æ„å‘³ç€</p>
<ul>
<li>
<p><code>target</code>æ¯”æ‰€æœ‰æ•°éƒ½å¤§ ã€‚<strong>ä¸ç¬¦åˆæ¡ä»¶</strong>,<code> nums[left - 1] != target</code>, æ£€æŸ¥è¿™ç§æƒ…å†µè¿”å›-1å³å¯</p>
</li>
<li>
<p>æ°å¥½æœ€åä¸€ä¸ªå…ƒç´ ç­‰äº<code>target</code>,å³ <code>nums[left - 1] == target</code>, <strong>ç¬¦åˆæ¡ä»¶</strong></p>
</li>
</ul>
<p>ä¸ºäº†åŒºåˆ†ä¸Šè¿°ä¸¤ç§æƒ…å†µï¼Œç›´æ¥æ£€æŸ¥<code>nums[left - 1] == target</code> å³å¯</p>
</li>
<li>
<p>å½“<code>right</code>ä¸€ç›´å‘å·¦ç§»åŠ¨ï¼Œæœ€ç»ˆ<code>right == 0</code>, (æ¯æ¬¡<code>right= mid</code>), æ„å‘³ç€<code>target</code> æ¯”æ‰€æœ‰æ•°éƒ½å°ï¼Œ<strong>ä¸ç¬¦åˆæ¡ä»¶</strong>ï¼Œ <code>nums[left] != target</code></p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="kt">int</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span> 
        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> 
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span> 
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span> <span class="o">?</span> <span class="p">(</span><span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="ç¬¬ä¸‰ç§æ¨¡æ¿">ç¬¬ä¸‰ç§æ¨¡æ¿</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="kt">int</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">){</span>
        <span class="c1">// Prevent (left + right) overflow
</span><span class="c1"></span>        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">mid</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// Post-processing:
</span><span class="c1"></span>    <span class="c1">// End Condition: left + 1 == right
</span><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="k">return</span> <span class="n">left</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="k">return</span> <span class="n">right</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="è‹¥å¹²æ¡ç»éªŒ">è‹¥å¹²æ¡ç»éªŒ</h2>
<ul>
<li>
<p>å½“æœå¯»å•ä¸ªå€¼æ—¶ï¼Œç”¨æ¨¡æ¿ä¸€ï¼Œæ›´æ˜“äºç†è§£ï¼Œæ¯æ¬¡äºŒåˆ†éƒ½ç›´æ¥è¿›è¡Œäº†åˆ¤æ–­ï¼Œ</p>
</li>
<li>
<p>å½“æœå¯»æŸä¸ªæœ€å€¼æˆ–è€…åŒºé—´ç«¯ç‚¹æ—¶ï¼Œç”¨æ¨¡æ¿äºŒ</p>
</li>
<li>
<p>å½“ä½¿ç”¨æ¨¡æ¿ä¸€æ—¶ï¼Œ<code>whie(left &lt;= right)</code>å¸¸å¸¸ä¸<code>right = size() - 1</code> è¿ç”¨</p>
</li>
<li>
<p>å½“ç”¨æ¨¡æ¿äºŒæ—¶ï¼Œ<code>while (left &lt; right)</code>å¸¸å¸¸ä¸ <code>right = size() </code>è¿ç”¨ï¼ˆä¸ç¡®å®šï¼Œæœ‰æ—¶ä¹Ÿçœ‹æƒ…å†µï¼‰</p>
</li>
<li>
<p>å½“ä½¿ç”¨æ¨¡æ¿äºŒæ—¶ï¼Œ<code>int mid = left + (right - left) / 2</code> ä¸ <code>left = mid + 1</code>è¿ç”¨ï¼Œé¿å…æ­»å¾ªç¯ï¼ŒåŒç†<code>int mid = left + (right - left + 1) / 2</code>ä¸`left = mid``è¿ç”¨</p>
</li>
<li>
<p>å½“ä½¿ç”¨æ¨¡æ¿äºŒæ—¶ï¼Œè€ƒè™‘é‡‡ç”¨<code>left = mid + 1</code> è¿˜æ˜¯<code> left = mid</code> æ—¶ï¼Œå¯ä»¥åšå¦‚ä¸‹æ€è€ƒï¼šå½“å‰åŸºäº<code>mid</code>åˆ¤æ–­çš„<code>nums[mid]</code><strong>æ˜¯å¦å¯èƒ½</strong>å‡ºç°åœ¨ç»“æœåŒºé—´å†…ï¼Œå¦‚æœå¯èƒ½ï¼Œè€ƒè™‘äºŒåˆ†çš„é‚£ä¸€ä¾§åº”è¯¥åŒ…å«<code>mid</code>, å³<code>left = mid </code>æˆ–<code> right = mid</code>,åŒç†ï¼Œå½“ä¸å¯èƒ½å‡ºç°åœ¨ç»“æœåŒºé—´å†…ï¼Œåˆ™åº”åšå†³æ’é™¤ï¼Œå³<code>left = mid + 1 </code>æˆ–<code> right  = mid + 1</code></p>
</li>
</ul>
<h2 id="å®ä¾‹ç ”ç©¶">å®ä¾‹ç ”ç©¶</h2>
<h3 id="å•ä¸€å€¼æŸ¥æ‰¾æƒ…å†µ">å•ä¸€å€¼æŸ¥æ‰¾æƒ…å†µ</h3>
<p><a href="https://leetcode-cn.com/problems/binary-search/" target="_blank" rel="noopener noreffer">åŠ›æ‰£-äºŒåˆ†æŸ¥æ‰¾</a></p>
<h4 id="æ¨¡æ¿ä¸€">æ¨¡æ¿ä¸€</h4>
<p>åˆå§‹æ—¶<code>right</code>å¿…é¡»æ˜¯<code>len - 1</code>, å¦åˆ™åœ¨<code>left = mid + 1</code>æ—¶ï¼Œå¯èƒ½å–åˆ°<code>left == right</code> ä¸”<code> left == len</code>ï¼Œ è®¿é—®è¶Šç•Œæ•°ç»„!</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">search</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> 
        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">mid</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="æ¨¡æ¿äºŒ">æ¨¡æ¿äºŒ</h4>
<p>æ³¨æ„ï¼š ä¸‹é¢æ–‡å­—è¯´æ˜ä¸­ â€=â€œ ä¸è¡¨ç¤ºèµ‹å€¼</p>
<p>ä¸‹é¢è¿™ç§æƒ…å†µï¼Œåˆå§‹æ—¶<code>right = len - 1</code>, ç»“æŸæ¡ä»¶ä¸º<code>left == right</code></p>
<ul>
<li>
<p>å½“<code>target</code>å¤§äºåŒºé—´æ‰€æœ‰å…ƒç´ æ—¶ï¼Œæœç´¢åŒºé—´å³ç«¯ç‚¹å§‹ç»ˆå›ºå®šä¸º<code>len - 1</code></p>
<ul>
<li>è‹¥æœ€åæœç´¢åŒºé—´ç¼©å°åˆ°<code>[left, right]</code>ï¼Œ<code>left = right - 1</code>, è¿™æ—¶ï¼Œ<code>mid = left</code>, ä¸‹ä¸€æ­¥<code>left = mid + 1 = right = len - 1</code>, ç„¶åæœ‰ <code>left == right</code>, æœç´¢ç»“æŸã€‚ä¸ä¼šå‡ºç°è¶Šç•Œçš„æƒ…å†µ</li>
</ul>
</li>
<li>
<p>å½“<code>target</code>å°äºåŒºé—´æ‰€æœ‰å…ƒç´ æ—¶ï¼Œæœç´¢åŒºé—´å·¦ç«¯ç‚¹å§‹ç»ˆå›ºå®šä¸º0</p>
<ul>
<li>è‹¥æœ€åæœç´ åŒºé—´ç¼©å°åˆ°<code>[left, right]</code>ï¼Œ<code>left = right - 1,</code> è¿™æ—¶ï¼Œ<code>mid = left</code>, ä¸‹ä¸€æ­¥<code>right = mid = left</code>,  æ­¤æ—¶<code>left = right</code>, æœç´¢ç»“æŸã€‚ä¹Ÿä¸ä¼šå‡ºç°è¶Šç•Œ</li>
</ul>
<p>ä¸Šè¿°ä¸¤ç§æƒ…å†µï¼Œæœ€åéƒ½æ˜¯<code>left = right</code>æ—¶ç»“æŸï¼Œä½†<code>left</code>ä¸‹æ ‡çš„å€¼å´æ²¡æœ‰éªŒè¯æ£€æŸ¥æ˜¯å¦ç­‰äº<code>target</code>ï¼Œæ‰€ä»¥æœ€åè¦åšä¸€ä¸ªè¡¥å……æ£€æŸ¥ã€‚æ­¤æ—¶<code>left</code>å–å€¼èŒƒå›´åœ¨<code>[0, len - 1]</code>, å¾ˆå®‰å…¨ï¼Œæ‰€ä»¥ç›´æ¥å–å€¼åˆ¤æ–­å³å¯ã€‚</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">search</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span> <span class="o">?</span> <span class="nl">left</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>ä¸‹é¢æƒ…å†µï¼Œ æˆ‘ä»¬å°†<code>right</code>åˆå§‹å€¼å–ä¸º<code>len</code>ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–</p>
<ul>
<li>
<p>å½“<code>target</code>å¤§äºåŒºé—´æ‰€æœ‰å…ƒç´ æ—¶ï¼Œæœç´¢åŒºé—´å³ç«¯ç‚¹å§‹ç»ˆ<mark>å›ºå®šä¸º<code>len</code></mark></p>
<ul>
<li>è‹¥æœ€åæœç´¢åŒºé—´ç¼©å°åˆ°<code>[left, right]</code>ï¼Œ<code>left = right - 1</code>, è¿™æ—¶ï¼Œ<code>mid = left</code>, ä¸‹ä¸€æ­¥<code>left = mid + 1 = right = len</code>, ç„¶åæœ‰ <code>left == right</code>, æœç´¢ç»“æŸã€‚æ³¨æ„è¿™æ—¶<code>left = len</code>ï¼Œä¸‹æ ‡å·²ç»è¶Šç•Œäº†, å¦‚æœæœ€åç›´æ¥å–<code>nums[left]</code>ä¼šè®¿é—®è¶Šç•Œï¼</li>
</ul>
</li>
<li>
<p>å½“<code>target</code>å°äºåŒºé—´æ‰€æœ‰å…ƒç´ æ—¶ï¼Œæœç´¢åŒºé—´å·¦ç«¯ç‚¹å§‹ç»ˆå›ºå®šä¸º0</p>
<ul>
<li>è‹¥æœ€åæœç´ åŒºé—´ç¼©å°åˆ°<code>[left, right]</code>ï¼Œ<code>left = right - 1,</code> è¿™æ—¶ï¼Œ<code>mid = left</code>, ä¸‹ä¸€æ­¥<code>right = mid = left</code>, æ­¤æ—¶<code>left = right</code>, æœç´¢ç»“æŸã€‚ä¹Ÿä¸ä¼šå‡ºç°è¶Šç•Œã€‚</li>
</ul>
<p>ä¸Šè¿°ä¸¤ç§æƒ…å†µï¼Œæœ€åéƒ½æ˜¯<code>left = right</code>æ—¶ç»“æŸï¼Œä½†<code>left</code>ä¸‹æ ‡çš„å€¼å´æ²¡æœ‰éªŒè¯æ£€æŸ¥æ˜¯å¦ç­‰äº<code>target</code>ï¼ŒåŒæ ·æœ€åè¦åšä¸€ä¸ªè¡¥å……æ£€æŸ¥ï¼Œä½†æ˜¯è¡¥å……æ£€æŸ¥æ—¶ï¼Œå› ä¸º<code>left</code>å–å€¼èŒƒå›´ä¸º<code>[0, len]</code>, å–å€¼èŒƒå›´ä¸å®‰å…¨ï¼Œæ‰€ä»¥è¦å¤šä¸€ä¸ªæ’é™¤æ¡ä»¶<code>left != len</code>ã€‚</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">search</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">len</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">left</span> <span class="o">!=</span> <span class="n">len</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="nl">left</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>å†çœ‹çœ‹ä¸‹é¢çš„ä»£ç ï¼Œåˆåœ¨ä¸Šé¢çš„ä»£ç ä¸Šåšäº†ç‚¹å°å°çš„æ”¹åŠ¨ï¼Œå³æ¯æ¬¡åˆ¤æ–­åä¸‹ä¸€æœç´¢åŒºé—´çš„å–å€¼èŒƒå›´ï¼Œè¿™é‡Œå®é™…ä¸ŠæŠŠ<code>nums[mid] &gt; target</code>æ¡ä»¶ä¸‹çš„<code>right</code>æ›´æ–°ä¸ºäº†<code>mid - 1</code>, å¯ä»¥çœ‹å‡ºæ²¡æœ‰ä¸æ¯«å½±å“ï¼Œå› ä¸ºæˆ‘ä»¬è¦æ‰¾çš„æ˜¯<code>target</code>, å½“æŒ‡æ˜äº†<code>target</code>å°äºæŸä¸ªå€¼ï¼Œå½“ç„¶å¯ä»¥è·³è¿‡è¯¥<code>mid</code>ç´¢å¼•äº†ï¼Œæƒ³ä¸€ä¸‹ï¼Œå½“<code>nums[mid] == target</code>æ—¶ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å–<code>=mid</code>, å› ä¸ºæ»¡è¶³æ­¤æ¡ä»¶çš„ä»»ä½•<code>mid</code>ç´¢å¼•å¯¹åº”çš„å€¼éƒ½æœ‰å¯èƒ½å‡ºç°åœ¨ç»“æœåŒºé—´ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½ç”¨<code>left = mid + 1 </code>æˆ– <code>right = mid - 1</code>æ¥è·³è¿‡ã€‚é‚£ä¸ºä»€ä¹ˆä¸èƒ½å–<code>left=mid</code>ï¼Œè¿™å°±æ˜¯å‰æ–‡æ‰€è¿°çš„æ­»å¾ªç¯é—®é¢˜äº†ï¼Œä¸<code>mid</code>å–å€¼æœ‰å…³ï¼Œä¸åšèµ˜è¿°ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">search</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">len</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">left</span> <span class="o">!=</span> <span class="n">len</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="o">?</span> <span class="nl">left</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="å°ç»“">å°ç»“</h5>
<p>å¯ä»¥çœ‹å‡ºå¯¹äºå¯»æ‰¾å•ä¸€å€¼å¾—æƒ…å†µï¼Œæ¨¡æ¿äºŒä¸­åˆå§‹å€¼ <code>right = len</code> è¿˜æ˜¯ <code>right = len - 1</code>ï¼Œéƒ½æ˜¯å¯ä»¥æ‰¾åˆ°ç»“æœå¾—ï¼Œåªæ˜¯æœ€å<code>left</code>çš„å–å€¼åŒºé—´ä¸ä¸€è‡´ï¼Œå½“<code>right</code>å–<code>len</code>æ—¶ï¼Œ<code>left</code>å–å€¼ç©ºé—´åŒ…æ‹¬äº†<code>len</code>ï¼Œåº”è¯¥åœ¨åå¤„ç†ä¸­åšå‡ºæ’é™¤ã€‚</p>
<p>å½“æœç´¢åŒºé—´æ–­ç‚¹æ—¶ï¼Œæ¯”å¦‚ä»¥ä¸‹æœç´¢å‡ºç°æ•°å­—çš„æœ€å°ä½ç½®å’Œæœ€å¤§ä½ç½®çš„ä»£ç ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="kt">int</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="k">while</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span> 
        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span> 
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">left</span> <span class="o">!=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="nl">left</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ä¸‹é¢ä»£ç ä¸­ï¼ŒåŒºåˆ«åœ¨äºå½“<code>nums[mid] = target</code>æ—¶ï¼Œæ‰€é‡‡å–çš„åŠ¨ä½œï¼Œå½“æœç´¢æœ€å¤§ç´¢å¼•æ—¶ï¼Œæ”¶ç´§å·¦è¾¹ç•Œï¼Œä½†æ˜¯ç”±äºé¿å…æ­»å¾ªç¯ï¼Œæ‰€ä»¥<code>left = mid + 1</code>,å¯¼è‡´ç»“æœåŒºé—´ä¸­ï¼Œ<code>left </code>ä¸º æœ€å¤§ç›®æ ‡ç´¢å¼•çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œæ‰€ä»¥ç›®æ ‡ç´¢å¼•åº”è¯¥å–<code>left - 1</code> æˆ–<code>right - 1</code>,åˆç”±äºleftçš„å–å€¼åŒºé—´ä¸º<code>[0, nums.size()]</code> ï¼Œ ä½†æˆ‘ä»¬åªéœ€å…³å¿ƒ<code>left - 1</code>çš„å–å€¼åŒºé—´ï¼Œå³<code>[-1, nums.size() - 1]</code>,å‘ç°è¿™ç§æƒ…å†µç›¸å¯¹äºæœç´¢æœ€å°ä½ç½®çš„ä»£ç è€Œè¨€ï¼Œè‡ªç„¶ä¼˜åŒ–äº†åŒºé—´å³ç«¯ç‚¹ï¼Œå´å¯¼è‡´äº†å·¦ç«¯ç‚¹è¶Šç•Œï¼Œæ‰€ä»¥è¦é¢å¤–æ£€æŸ¥å·¦ç«¯ç‚¹è¶Šç•Œçš„æƒ…å†µã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="kt">int</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="k">while</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span> 
        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> 
        <span class="p">}</span> <span class="k">else</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span> 
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">left</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>æ‰€ä»¥æˆ‘ä»¬åˆå¯ä»¥è€ƒè™‘ï¼Œå½“æœç´¢å³ç«¯ç‚¹æ—¶ï¼Œrightåˆå§‹åŒ–ä¸ºnums.size() - 1æ—¶ï¼Œè¦ä½œä½•æ”¹å˜ï¼Œä»£ç å¦‚ä¸‹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">search</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">==</span> <span class="n">right</span><span class="p">)</span> <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">while</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span> 
            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> 
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span> 
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>  <span class="n">nums</span><span class="p">[</span><span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> 
        <span class="k">if</span> <span class="p">((</span><span class="n">left</span> <span class="o">==</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">left</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> 
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>å› ä¸ºï¼Œ<code>left</code>æœ€ç»ˆå–å€¼åŒºé—´ä¸º<code>[0, nums.size() - 1]</code>, æˆ‘ä»¬åŒºé—´å³ç«¯ç‚¹ä¸º<code>left - 1</code>, åˆ™ï¼Œ<code>left - 1</code>çš„å–å€¼åŒºé—´ä¸º<code>[-1, nums.size() - 2]</code>, å¯è§å‡ºæ¥å¤„ç†è¶Šç•Œæ“ä½œå¤–ï¼Œè¿˜å‡ºç°äº†ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œ<code>nums.size() - 1 </code>ç´¢å¼•å¯¹åº”çš„å€¼ï¼Œä¼šè¢«æ¼æ‰ï¼Œå› æ­¤è¦é¢å¤–åˆ¤æ–­ã€‚ä¸ºä»€ä¹ˆä¼šè¢«æ¼æ‰å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆæƒ³ï¼Œä¸Šè¿°æœç´¢ç­‰äºç›®æ ‡å€¼çš„æœ€å¤§ç´¢å¼•ï¼Œå®é™…ä¸Šæ˜¯æœ€åå¾—åˆ°çš„æ˜¯ç›®æ ‡å€¼çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œä¹Ÿå°±æ˜¯å¤§äºç›®æ ‡å€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´ ç´¢å¼•ã€‚æ‰€ä»¥å½“ç›®æ ‡å€¼æ¯”è¾ƒå¤§æ—¶ï¼Œ<code>right</code>å§‹ç»ˆå›ºå®šä¸º<code>nums.size() - 1,</code> <code>left </code>ä¸€ç›´å¾€å³ç§»åŠ¨ç›´åˆ°<code>left = mid + 1 = nums.size() - 1</code>æ—¶ï¼Œ æœ‰<code>left = right</code> ï¼Œæœç´¢ç»“æŸï¼Œæ³¨æ„ï¼Œæ­¤æ—¶<code>nums.size() - 1 </code>ç´¢å¼•ä½ç½®çš„å€¼æˆ‘ä»¬å¹¶æ²¡æœ‰å’Œ<code>target</code>åšè¿‡åˆ¤æ–­ï¼Œå°±è¿™ä¹ˆæ¼æ‰äº†ï¼Œæ‰€ä»¥åå¤„ç†è¦è¡¥å……æ£€æŸ¥æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå½“ç„¶å³è¾¹ä¸å¯èƒ½è¶Šç•Œäº†ã€‚</p>
<p>ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“ï¼Œåœ¨ä½¿ç”¨ <code>left &lt; right</code>æ—¶ï¼Œè‹¥é‡‡å–<code>right</code> åˆå§‹åŒ–ä¸º<code>num.size()</code> çš„å½¢å¼ï¼Œè¿˜æ˜¯<code>num.size() - 1</code>çš„å½¢å¼åŒºåˆ«åœ¨äºæ˜¯å¦è¦åœ¨åå¤„ç†ä¸­åšé¢å¤–çš„åŒºé—´è¶Šç•Œæ£€æŸ¥ã€‚æ‰€ä»¥æˆ‘å»ºè®®åœ¨å¯»æ‰¾å•ä¸ªå€¼è€Œä¸æ˜¯ç«¯ç‚¹æ—¶ï¼Œå°½é‡åˆå§‹åŒ–ä¸º<code>nums.size() - 1</code>, å¯ä»¥å…å»è¶Šç•Œæ£€æŸ¥ï¼Œè€Œåœ¨å¯»æ‰¾ç«¯ç‚¹æ—¶ï¼Œåº”è¯¥å–<code>nums.size()</code>ï¼Œé¿å…æœç´¢å³ç«¯ç‚¹æ—¶é¢å¤–çš„æ£€æŸ¥ã€‚</p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2022-04-19</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/binary_search/index.md" target="_blank">é˜…è¯»åŸå§‹æ–‡æ¡£</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="https://example.com/binary_search/" data-title="äºŒåˆ†æŸ¥æ‰¾æ³•ä¹‹ç»†èŠ‚" data-hashtags="Binary Search"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="https://example.com/binary_search/" data-title="äºŒåˆ†æŸ¥æ‰¾æ³•ä¹‹ç»†èŠ‚" data-ralateuid="xxxx"><i class="fab fa-weibo fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/binary-search/">Binary Search</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/learing_resources/" class="prev" rel="prev" title="å¼€æºå­¦ä¹ èµ„æ–™"><i class="fas fa-angle-left fa-fw"></i>å¼€æºå­¦ä¹ èµ„æ–™</a>
            <a href="/rvalue_ref/" class="next" rel="next" title="å³å€¼å¼•ç”¨ä¸ç§»åŠ¨è¯­ä¹‰">å³å€¼å¼•ç”¨ä¸ç§»åŠ¨è¯­ä¹‰<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">ç”± <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.91.2">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Weiyee</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":30},"comment":{},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"æ²¡æœ‰æ‰¾åˆ°ç»“æœ","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
